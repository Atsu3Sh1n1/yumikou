import*as o from"https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const v of i.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const A=new o.Scene,w=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),h=new o.WebGLRenderer({antialias:!0});h.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(h.domElement);const V=new o.IcosahedronGeometry(1,2),Y=new o.MeshBasicMaterial({color:65280,wireframe:!0}),c=new o.Mesh(V,Y);A.add(c);let u,m;function E(){window.innerWidth<=768?(u=new o.Vector3(1.5,1.2,2.5),m=new o.Vector3(2.2,2.2,2.2)):(u=new o.Vector3(2,1.5,3),m=new o.Vector3(3.5,3.5,3.5)),w.position.set(u.x,u.y,u.z),c.scale.set(m.x,m.y,m.z),w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)}E();w.lookAt(c.position);let g=!1,p=new o.Vector2,l=new o.Vector2(0,0),a=new o.Quaternion,y=new o.Vector3(0,1,0),d=!1,x=0,L=0,f=c.scale.clone();const S=.005,X=.95,z=.001;function T(e,t){const s=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.atan2(r,s)}function q(e,t){const s=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(s*s+r*r)}function F(e,t){g=!0,p.set(e,t)}function P(e,t){if(!g||d)return;const s=e-p.x,r=t-p.y,n=new o.Vector3(r,s,0).normalize(),i=Math.sqrt(s*s+r*r)*S;a.setFromAxisAngle(n,i),c.quaternion.premultiply(a),l.set(s,r),y.copy(n),p.set(e,t)}function b(){g=!1,d=!1}window.addEventListener("mousedown",e=>F(e.clientX,e.clientY));window.addEventListener("mousemove",e=>P(e.clientX,e.clientY));window.addEventListener("mouseup",b);window.addEventListener("touchstart",e=>{e.touches.length===2?(d=!0,x=T(e.touches[0],e.touches[1]),L=q(e.touches[0],e.touches[1]),f.copy(c.scale)):e.touches.length===1&&(d=!1,F(e.touches[0].clientX,e.touches[0].clientY))});window.addEventListener("touchmove",e=>{if(e.preventDefault(),e.touches.length===2&&d){const t=T(e.touches[0],e.touches[1]),s=t-x;x=t;const r=new o.Vector3(0,0,1);a.setFromAxisAngle(r,-s),c.quaternion.premultiply(a);const i=q(e.touches[0],e.touches[1])/L;c.scale.set(f.x*i,f.y*i,f.z*i),y.copy(r),l.set(0,0)}else e.touches.length===1&&P(e.touches[0].clientX,e.touches[0].clientY)},{passive:!1});window.addEventListener("touchend",b);window.addEventListener("wheel",e=>{e.preventDefault();const t=1+(e.deltaY>0?-.05:.05);c.scale.multiplyScalar(t)});function M(){if(requestAnimationFrame(M),!g&&!d){const e=l.length()*S;if(e>1e-4){const s=new o.Vector3(l.y,l.x,0).normalize();a.setFromAxisAngle(s,e),c.quaternion.premultiply(a),y.copy(s),l.multiplyScalar(X)}const t=new o.Quaternion().setFromAxisAngle(y,z);c.quaternion.premultiply(t)}h.render(A,w)}M();window.addEventListener("resize",E);setTimeout(()=>{document.querySelector("#overlayText .part1").classList.add("visible")},600);setTimeout(()=>{document.querySelector("#overlayText .part2").classList.add("visible")},2600);setTimeout(()=>{const e=document.getElementById("overlayText");e.style.transition="opacity 2s ease-in-out",e.style.opacity=1},6e5);setTimeout(()=>{const e=document.getElementById("skipButton");e.style.display="block",e.style.opacity=1},6e3);document.getElementById("skipButton").addEventListener("click",()=>{const e=document.getElementById("fadeOverlay");e.style.pointerEvents="auto",e.style.opacity=1,setTimeout(()=>{window.location.href="project-top"},1e3)});
