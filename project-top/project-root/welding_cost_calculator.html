<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>溶接簡易見積もり計算機</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    label, select, input { margin: 5px 0; display: block; }
    .result { margin-top: 20px; font-size: 1.5em; font-weight: bold; }
  </style>
</head>
<body>
  <h2>溶接 簡易見積もり計算機</h2>

  <label for="size">配管サイズ:</label>
  <select id="size">
    <option value="25">25A</option>
    <option value="32">32A</option>
    <option value="40">40A</option>
    <option value="50">50A</option>
    <option value="65">65A</option>
    <option value="80">80A</option>
    <option value="100">100A</option>
    <option value="125">125A</option>
    <option value="150">150A</option>
    <option value="200">200A</option>
  </select>

  <label for="jointType">継手の種類:</label>
  <select id="jointType">
    <option value="straight">直管（1リング）</option>
    <option value="elbow">エルボ（90°/45°・2リング）</option>
    <option value="tee">チーズ（3リング）</option>
  </select>

  <label for="quantity">数量:</label>
  <input type="number" id="quantity" value="1" min="1">

  <label for="unitPrice">1DBあたりの単価（円）:</label>
  <input type="number" id="unitPrice" value="2500" min="0">

  <div class="result" id="totalCost">合計金額: ¥0</div>

  <script>
    const dbTable = {
      straight: { 25: 1, 32: 1.25, 40: 1.5, 50: 2, 65: 2.5, 80: 3, 100: 4, 125: 5, 150: 6, 200: 8 },
      elbow:    { 25: 2, 32: 2.5, 40: 3, 50: 4, 65: 5, 80: 6, 100: 8, 125: 10, 150: 12, 200: 16 },
      tee:      { 25: 3, 32: 3.75, 40: 4.5, 50: 6, 65: 7.5, 80: 9, 100: 12, 125: 15, 150: 18, 200: 24 },
    };

    const sizeInput = document.getElementById('size');
    const typeInput = document.getElementById('jointType');
    const qtyInput = document.getElementById('quantity');
    const unitInput = document.getElementById('unitPrice');
    const result = document.getElementById('totalCost');

    function updateTotal() {
      const size = sizeInput.value;
      const type = typeInput.value;
      const qty = Number(qtyInput.value);
      const unitPrice = Number(unitInput.value);
      const dbValue = dbTable[type][size];
      const total = dbValue * qty * unitPrice;
      result.textContent = `合計金額: ¥${total.toLocaleString()}`;
    }

    sizeInput.onchange = updateTotal;
    typeInput.onchange = updateTotal;
    qtyInput.oninput = updateTotal;
    unitInput.oninput = updateTotal;

    updateTotal(); // 初回表示
  </script>
</body>
</html>
