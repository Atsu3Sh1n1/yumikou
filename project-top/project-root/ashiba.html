<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>è¶³å ´æ–½å·¥è²»è¨ˆç®—æ©Ÿ</title>
<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        margin: 1em;
        max-width: 100%;
        font-size: 1rem;
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
    }

     h3 {
        font-size: 1.3em;
        margin: 0.8em 0 0.5em;
    }
      h2 {
      text-align: center;
      margin-bottom: -30px;
      font-size: 1.8rem;
    }
      h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1rem;
    }


    label {
        display: block;
        margin: 0.8em 0 0.3em;
    }

    input[type="number"] {
        width: 100%;
        max-width: 120px;
        padding: 8px;
        font-size: 1em;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
    }

    #result, #totalCost, #sellingPrice, #manpowerCalc {
        margin: 1em 0;
        font-weight: bold;
        font-size: 1.1em;
        padding: 0.5em;
        background: #f5f5f5;
        border-radius: 4px;
    }

    .checkbox-group, .score-form {
        margin: 1em 0;
    }

    fieldset {
        margin: 0.8em 0;
        padding: 0.8em;
        border: 1px solid #eee;
        border-radius: 6px;
    }

    legend {
        font-weight: bold;
        font-size: 0.95em;
        padding: 0 0.5em;
    }

    .footnote {
        font-size: 0.8em;
        color: #666;
        margin: 1.5em 0;
        line-height: 1.4;
    }

    button {
        width: 100%;
        padding: 12px;
        background: #007aff;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 1em;
        margin: 1em 0;
        cursor: pointer;
    }

    /* ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã¨ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    input[type="radio"], input[type="checkbox"] {
        margin-right: 8px;
        transform: scale(1.2);
    }

    /* å°åˆ·ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆç°¡ç•¥åŒ–ï¼‰ */
    @media print {
        body {
            font-size: 12pt;
            padding: 0.5in;
        }
        button, .no-print {
            display: none;
        }
        #result, #totalCost, #sellingPrice, #manpowerCalc {
            font-size: 13pt;
        }
    }

    /* æ¨ªé•·ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ç”¨ã®èª¿æ•´ */
    @media (min-width: 400px) {
        body {
            margin: 1em auto;
            max-width: 380px;
        }
    }
    .footer {
      text-align: center;
      font-size: 12px;
      margin-bottom: -10px;
      padding: 1.2rem;
    }

</style></head>

<body>
    <h2>è¶³å ´æ–½å·¥è²»ç®—å‡ºæ©Ÿ</h2><br><h1>(ãƒã‚³ãƒˆå›ï¼‘å·)</h1>
    <div class="footer">
    <a href="https://atsu3sh1n1.github.io/yumikou/" target="_blank">Created by YUMIKOU Inc.</a>
  </div>

    <!-- é›£æ˜“åº¦ã‚¹ã‚³ã‚¢ã‚’ä¸Šéƒ¨ã«ç§»å‹• -->
    <div class="score-form">
        <h3>é›£æ˜“åº¦è©•ä¾¡ã‚¹ã‚³ã‚¢</h3>
        <form id="difficultyForm">
            <fieldset>
                <legend>ä½œæ¥­é«˜ã•</legend>
                <label><input type="radio" name="heightScore" value="1" checked> åœ°ä¸Šã€œ2m</label>
                <label><input type="radio" name="heightScore" value="2"> 2ã€œ5m</label>
                <label><input type="radio" name="heightScore" value="3"> 5ã€œ10m</label>
                <label><input type="radio" name="heightScore" value="4"> 10ã€œ15m</label>
                <label><input type="radio" name="heightScore" value="5"> 15mä»¥ä¸Š</label>
            </fieldset>

            <fieldset>
                <legend>æ¬å…¥æ¡ä»¶</legend>
                <label><input type="radio" name="transport" value="1" checked> æ•´åœ°ãƒ»è¿‘è·é›¢</label>
                <label><input type="radio" name="transport" value="2"> å°ã•ãªæ®µå·®ã‚ã‚Š</label>
                <label><input type="radio" name="transport" value="3"> 100mä»¥å†…æ‰‹é‹ã³</label>
                <label><input type="radio" name="transport" value="4"> 100mè¶…ã€œ300m</label>
                <label><input type="radio" name="transport" value="5"> 300mè¶…ã€œ500mä»¥ä¸Š</label>
            </fieldset>

            <fieldset>
                <legend>è¶³å ´æ”¯æŒåœ°</legend>
                <label><input type="radio" name="base" value="1" checked> ã‚³ãƒ³ã‚¯ãƒªå¹³åœ°</label>
                <label><input type="radio" name="base" value="2"> è»Ÿå¼±åœ°ç›¤</label>
                <label><input type="radio" name="base" value="3"> å‚¾æ–œåœ°</label>
                <label><input type="radio" name="base" value="4"> é…ç®¡ä¸Š</label>
                <label><input type="radio" name="base" value="5"> ä¸å®‰å®š</label>
            </fieldset>

            <fieldset>
                <legend>ä½œæ¥­å§¿å‹¢</legend>
                <label><input type="radio" name="posture" value="1" checked> ç›´ç«‹ä½œæ¥­</label>
                <label><input type="radio" name="posture" value="2"> ã‹ãŒã¿ä½œæ¥­</label>
                <label><input type="radio" name="posture" value="3"> æ‡¸å‚ã‚ã‚Š</label>
                <label><input type="radio" name="posture" value="4"> è…°æ›²ã’</label>
                <label><input type="radio" name="posture" value="5"> ç‹­å°ãƒ»ä¸å®‰å®š</label>
            </fieldset>

            <fieldset>
                <legend>ç’°å¢ƒè¦å› </legend>
                <label><input type="radio" name="environment" value="1" checked> å¸¸æ¸©ãƒ»æ˜¼é–“</label>
                <label><input type="radio" name="environment" value="2"> é«˜æ¸©ãƒ»æ¹¿æ°—</label>
                <label><input type="radio" name="environment" value="3"> å¤œé–“ä½œæ¥­</label>
                <label><input type="radio" name="environment" value="4"> æœ‰å®³ã‚¬ã‚¹</label>
                <label><input type="radio" name="environment" value="5"> çˆ†ç™ºå¯¾å¿œ</label>
            </fieldset>

            <fieldset>
                <legend>å¹²æ¸‰ç‰©</legend>
                <label><input type="radio" name="interference" value="1" checked> ãªã—</label>
                <label><input type="radio" name="interference" value="2"> å°‘æ•°é…ç®¡</label>
                <label><input type="radio" name="interference" value="3"> å¯†é›†é…ç®¡</label>
                <label><input type="radio" name="interference" value="4"> é›»æ°—è¨­å‚™å¤š</label>
                <label><input type="radio" name="interference" value="5"> 360åº¦å¯†é›†</label>
            </fieldset>
        </form>

        <div id="scoreResult">åˆè¨ˆã‚¹ã‚³ã‚¢: 6 / é›£æ˜“åº¦è£œæ­£ä¿‚æ•°: 1.0</div>
    </div>

    <!-- åŸºæœ¬å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="form-section">
        <label>
            äººå·¥å˜ä¾¡ï¼ˆå††ï¼æ—¥ï¼‰:
            <input type="number" id="laborCost" value="25000" min="0">
        </label>

        <label>
            ä½œæ¥­åºŠ é¢ç©ï¼ˆã¡ï¼‰:
            <input type="number" id="area" placeholder="100" min="0">
        </label>

        <label>
            é«˜ã•ï¼ˆmï¼‰:
            <input type="number" id="height" value="6" min="0">
        </label>

        <!-- è¿½åŠ 1: è«¸çµŒè²»ç‡å…¥åŠ›æ¬„ -->
        <label>
            è«¸çµŒè²»ç‡ï¼ˆï¼…ï¼‰:
            <input type="number" id="overheadRate" value="10" min="0" max="100">
        </label>

        <div class="checkbox-group">
            <strong>è¶³å ´ã®ç¨®é¡ï¼ˆå®‰å…¨å¯¾å¿œä¿‚æ•°é©ç”¨ï¼‰:</strong>
            <label><input type="radio" name="type" value="1.00" checked> ãã•ã³å¼è¶³å ´ï¼ˆä¿‚æ•° 1.00ï¼‰</label>
            <label><input type="radio" name="type" value="1.15"> æ çµ„è¶³å ´ï¼ˆä¿‚æ•° 1.15ï¼‰</label>
            <label><input type="radio" name="type" value="1.30"> å˜ç®¡è¶³å ´ï¼ˆä¿‚æ•° 1.30ï¼‰</label>
            <label><input type="radio" name="type" value="1.50"> åŠã‚Šè¶³å ´ï¼ˆä¿‚æ•° 1.50ï¼‰</label>
            <label><input type="radio" name="type" value="0.90"> ç§»å‹•å¼è¶³å ´ï¼ˆä¿‚æ•° 0.90ï¼‰</label>
        </div>
    </div>

    <!-- è¨ˆç®—çµæœè¡¨ç¤ºã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div id="result">åŸä¾¡å˜ä¾¡: 325.00 å††ï¼ã¡</div>
    <div id="totalCost">åˆè¨ˆé‡‘é¡: 195,000 å††</div>
    <!-- è¿½åŠ 1: è¦‹ç©é‡‘é¡ï¼ˆå£²å€¤ï¼‰è¡¨ç¤º -->
    <div id="sellingPrice">å°è¨ˆï¼ˆç¨åˆ¥ï¼‰: 214,500 å††</div>

    <!-- è¿½åŠ 2: äººå·¥æ•°è©¦ç®— -->
    <div id="manpowerCalc">å¿…è¦äººå·¥æ•°: 7.79 äººæ—¥</div>

    <!-- è¿½åŠ 3: PDFå‡ºåŠ›/å°åˆ·ãƒœã‚¿ãƒ³ -->
    <div class="no-print">
        <button onclick="window.print()">è¦‹ç©æ›¸ã‚’å°åˆ·/PDFå‡ºåŠ›</button>
    </div>

    <!-- å°åˆ·æ™‚ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="print-only">
       
        <p>è¦‹ç©æ—¥: <span id="printDate"></span></p>
        <hr>
    </div>

    <div class="footnote">
        â€» ãƒã‚³ãƒˆå›ã¯ã€å›½åœŸäº¤é€šçœã€Œå…¬å…±å»ºç¯‰å·¥äº‹æ¨™æº–å˜ä¾¡ç©ç®—åŸºæº–ã€ã«åŸºã¥ãã€ãã•ã³å¼è¶³å ´ã®æ–½å·¥é‡ã‚’1äººå·¥ã‚ãŸã‚Š77ã¡ã¨ã—ã¦ç®—å‡ºã™ã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br>
        <a href="https://www.mlit.go.jp/gobuild/content/001733127.pdf" target="_blank">ï¼å›½äº¤çœ ç©ç®—åŸºæº–è³‡æ–™</a><br><br>

        *é›£æ˜“åº¦ä¿‚æ•°ã¯ä½œæ¥­ç’°å¢ƒ6é …ç›®ã‚’å…ƒã«è©•ä¾¡ã€‚ç·ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦æœ€å¤§2.0å€ã¾ã§åŠ ç®—ã•ã‚Œã¾ã™ã€‚<br>
        <a href="https://elaws.e-gov.go.jp/document?lawid=347M50000080032" target="_blank">ï¼åŠ´åƒå®‰å…¨è¡›ç”Ÿè¦å‰‡ï¼ˆåšç”ŸåŠ´åƒçœï¼‰</a><br>
        ğŸ” æ¤œç´¢ï¼šã€Œç¬¬540æ¡ è¶³å ´ã€ã€Œå¢œè½é˜²æ­¢æªç½®ã€<br>
        <a href="https://www.kensaibou.or.jp/" target="_blank">ï¼å»ºè¨­æ¥­åŠ´åƒç½å®³é˜²æ­¢å”ä¼šï¼ˆå»ºç½é˜²ï¼‰æŠ€è¡“è³‡æ–™</a><br>
        <a href="https://www.mlit.go.jp/gobuild/standard_index.html" target="_blank">ï¼å›½åœŸäº¤é€šçœï¼šä»®è¨­å·¥äº‹æ¨™æº–å›³ï¼æ¨™æº–ä»•æ§˜æ›¸</a><br>
        *é›£æ˜“åº¦ä¿‚æ•°ã¯ä½œæ¥­ç’°å¢ƒ6é …ç›®ã‚’å…ƒã«è©•ä¾¡ã€‚ç·ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦æœ€å¤§2.0å€ã¾ã§åŠ ç®—ã•ã‚Œã¾ã™ã€‚<br>

    </div>

    <script>
        // è¦ç´ ã®å–å¾—
        const laborCostInput = document.getElementById('laborCost');
        const areaInput = document.getElementById('area');
        const heightInput = document.getElementById('height');
        const overheadRateInput = document.getElementById('overheadRate');
        const typeRadios = document.getElementsByName('type');
        const form = document.getElementById('difficultyForm');
        const resultDiv = document.getElementById('result');
        const totalCostDiv = document.getElementById('totalCost');
        const sellingPriceDiv = document.getElementById('sellingPrice');
        const manpowerCalcDiv = document.getElementById('manpowerCalc');
        const scoreResultDiv = document.getElementById('scoreResult');
        const printDateSpan = document.getElementById('printDate');
        const æ–½å·¥é‡ = 77;

        // å®‰å…¨ä¿‚æ•°ã®å–å¾—
        function getSafetyFactor() {
            for (const radio of typeRadios) {
                if (radio.checked) return parseFloat(radio.value);
            }
            return 1.00;
        }

        // é›£æ˜“åº¦ä¿‚æ•°ã®è¨ˆç®—
        function getDifficultyFactor() {
            const formData = new FormData(form);
            let score = 0;
            for (const value of formData.values()) score += Number(value);

            let factor = 1.0;
            if (score >= 17) factor = 2.0;
            else if (score >= 13) factor = 1.5;
            else if (score >= 9) factor = 1.2;

            scoreResultDiv.innerText = `åˆè¨ˆã‚¹ã‚³ã‚¢: ${score} / é›£æ˜“åº¦è£œæ­£ä¿‚æ•°: ${factor}`;
            return factor;
        }

        // è«¸çµŒè²»ç‡ã‚’è€ƒæ…®ã—ãŸè¦‹ç©é‡‘é¡è¨ˆç®—
        function calculateSellingPrice(baseCost) {
            const overheadRate = parseFloat(overheadRateInput.value) || 0;
            return baseCost * (1 + overheadRate / 100);
        }

        // äººå·¥æ•°ã®è¨ˆç®—
        function calculateManpower(area, height) {
            if (!isNaN(area) && !isNaN(height)) {  // ä¸¡æ–¹ã®å€¤ãŒæ•°å€¤ã‹ãƒã‚§ãƒƒã‚¯
                return (area * height) / æ–½å·¥é‡;
            }
            return 0;
        }

        // æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}å¹´${month}æœˆ${day}æ—¥`;
        }

        // ãƒ¡ã‚¤ãƒ³ã®æ›´æ–°é–¢æ•°
        function updateAll() {
            const laborCost = parseFloat(laborCostInput.value);
            const area = parseFloat(areaInput.value);
            const height = parseFloat(heightInput.value);
            const safetyFactor = getSafetyFactor();
            const difficultyFactor = getDifficultyFactor();

            if (!isNaN(laborCost) && !isNaN(area) && !isNaN(height)) {
                const unitCost = laborCost / æ–½å·¥é‡;
                const adjustedCost = unitCost * safetyFactor;
                const total = adjustedCost * area * height * difficultyFactor;
                const sellingPrice = calculateSellingPrice(total);
                const manpower = calculateManpower(area, height);

                resultDiv.textContent = `åŸä¾¡å˜ä¾¡: ${(adjustedCost).toFixed(2)} å††ï¼ã¡`;
                totalCostDiv.textContent = `åˆè¨ˆé‡‘é¡: ${Math.round(total).toLocaleString()} å††`;
                sellingPriceDiv.textContent = `è¦‹ç©é‡‘é¡ï¼ˆå£²å€¤ï¼‰: ${Math.round(sellingPrice).toLocaleString()} å††`;
                manpowerCalcDiv.textContent = `å¿…è¦äººå·¥æ•°: ${manpower.toFixed(2)} äººæ—¥`;
            } else {
                resultDiv.textContent = 'åŸä¾¡å˜ä¾¡: - å††ï¼ã¡';
                totalCostDiv.textContent = 'åˆè¨ˆé‡‘é¡: - å††';
                sellingPriceDiv.textContent = 'è¦‹ç©é‡‘é¡ï¼ˆå£²å€¤ï¼‰: - å††';
                manpowerCalcDiv.textContent = 'å¿…è¦äººå·¥æ•°: - äººæ—¥';
            }

            // å°åˆ·ç”¨æ—¥ä»˜æ›´æ–°
            printDateSpan.textContent = formatDate(new Date());
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
        laborCostInput.addEventListener('input', updateAll);
        areaInput.addEventListener('input', updateAll);
        heightInput.addEventListener('input', updateAll);
        overheadRateInput.addEventListener('input', updateAll);
        typeRadios.forEach(r => r.addEventListener('change', updateAll));
        form.addEventListener('change', updateAll);

        // åˆæœŸè¡¨ç¤º
        updateAll();
    </script>
</body>

</html>