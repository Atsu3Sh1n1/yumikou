<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>足場 原価計算（くさび式）</title>
  <style>
    body { font-family: sans-serif; margin: 2em; }
    label { display: block; margin-top: 1em; }
    input { font-size: 1em; margin-left: 0.5em; width: 100px; }
    #result, #totalCost { margin-top: 1em; font-weight: bold; font-size: 1.2em; }
    small { display: block; margin-top: 1em; color: #555; }
  </style>
</head>
<body>
  <h2>足場・金額 計算（くさび式1.0）*開発中</h2>

  <label>
    人工単価（円／日）:
    <input type="number" id="laborCost" value="25000" min="0">
  </label>

  <label>
    作業床 面積（㎡）:
    <input type="number" id="area" value="100" min="0">
  </label>

  <label>
    高さ（m）:
    <input type="number" id="height" value="6" min="0">
  </label>

  <div id="result">原価単価: 325.00 円／㎡</div>
  <div id="totalCost">合計金額: 195,000 円</div>

  <small>
    ※ 国土交通省「公共建築工事標準単価積算基準」によれば、くさび式足場の組立・解体施工量は77㎡／人工と定められています。<br>
    <a href="https://www.mlit.go.jp/gobuild/content/001733127.pdf" target="_blank">出典：国交省 積算基準資料</a>
  </small>

  <script>
    const laborCostInput = document.getElementById('laborCost');
    const areaInput = document.getElementById('area');
    const heightInput = document.getElementById('height');
    const resultDiv = document.getElementById('result');
    const totalCostDiv = document.getElementById('totalCost');
    const 施工量 = 77;

    function updateAll() {
      const laborCost = parseFloat(laborCostInput.value);
      const area = parseFloat(areaInput.value);
      const height = parseFloat(heightInput.value);

      if (!isNaN(laborCost) && !isNaN(area) && !isNaN(height) && 施工量 > 0) {
        const unitCost = laborCost / 施工量;
        const total = unitCost * area * height;

        resultDiv.textContent = `原価単価: ${unitCost.toFixed(2)} 円／㎡`;
        totalCostDiv.textContent = `合計金額: ${total.toLocaleString()} 円`;
      } else {
        resultDiv.textContent = '原価単価: - 円／㎡';
        totalCostDiv.textContent = '合計金額: - 円';
      }
    }

    laborCostInput.addEventListener('input', updateAll);
    areaInput.addEventListener('input', updateAll);
    heightInput.addEventListener('input', updateAll);

    // 初期表示
    updateAll();
  </script>
</body>
</html>
