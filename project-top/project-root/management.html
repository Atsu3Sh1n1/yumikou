<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>プロフェッショナル現場監督育成ガイド | 建設業界のリーダーシップ開発</title>
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #3498db;
      --accent-color: #e74c3c;
      --light-color: #ecf0f1;
      --dark-color: #1f2d3d;
      --success-color: #27ae60;
    }

    body {
      font-family: "游ゴシック体", "Yu Gothic", "メイリオ", "Hiragino Sans", sans-serif;
      background-color: #f8f9fa;
      color: #333;
      line-height: 1.8;
      padding: 0;
      margin: 0;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      background-color: var(--primary-color);
      color: white;
      padding: 40px 20px;
      margin-bottom: 30px;
      border-bottom: 5px solid var(--secondary-color);
    }

    h1,
    h2,
    h3 {
      color: var(--primary-color);
      font-weight: 600;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    .section {
      background-color: white;
      padding: 30px;
      margin-bottom: 30px;
      border-radius: 5px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .section:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background-color: var(--secondary-color);
    }

    ul {
      padding-left: 25px;
    }

    li {
      margin-bottom: 10px;
      position: relative;
    }

    li::before {
      content: '•';
      color: var(--secondary-color);
      font-weight: bold;
      display: inline-block;
      width: 1em;
      margin-left: -1em;
    }

    .important {
      color: var(--accent-color);
      font-weight: 600;
      background-color: rgba(231, 76, 60, 0.1);
      padding: 2px 5px;
      border-radius: 3px;
    }

    code {
      font-family: "Courier New", monospace;
      background-color: var(--light-color);
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 90%;
      color: var(--dark-color);
    }

    .btn {
      display: inline-block;
      background-color: var(--secondary-color);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      margin: 5px;
    }

    .btn:hover {
      background-color: var(--primary-color);
      transform: translateY(-2px);
    }

    .btn-outline {
      background-color: transparent;
      border: 2px solid var(--secondary-color);
      color: var(--secondary-color);
    }

    .btn-outline:hover {
      background-color: var(--secondary-color);
      color: white;
    }

    .tooltip {
      position: relative;
      display: inline-block;
      border-bottom: 1px dotted var(--dark-color);
      cursor: help;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 250px;
      background-color: var(--dark-color);
      color: white;
      text-align: center;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -125px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    .accordion {
      background-color: var(--light-color);
      color: var(--dark-color);
      cursor: pointer;
      padding: 15px;
      width: 100%;
      border: none;
      text-align: left;
      outline: none;
      font-size: 1.1rem;
      font-weight: 600;
      margin: 5px 0;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .accordion:hover {
      background-color: #d5dbdb;
    }

    .accordion::after {
      content: '\002B';
      color: var(--secondary-color);
      font-weight: bold;
      float: right;
      margin-left: 5px;
    }

    .active::after {
      content: '\2212';
    }

    .panel {
      padding: 0 15px;
      background-color: white;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.2s ease-out;
      border-radius: 0 0 5px 5px;
      margin-bottom: 15px;
    }

    .progress-container {
      width: 100%;
      background-color: #ddd;
      border-radius: 5px;
      margin: 20px 0;
    }

    .progress-bar {
      height: 20px;
      background-color: var(--secondary-color);
      border-radius: 5px;
      width: 0;
      transition: width 1s ease-in-out;
      text-align: center;
      color: white;
      font-size: 12px;
      line-height: 20px;
    }

    .checklist-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .checklist-item input {
      margin-right: 10px;
    }

    .checklist-item label {
      flex-grow: 1;
    }

    .checklist-item.completed label {
      text-decoration: line-through;
      color: #7f8c8d;
    }

    footer {
      background-color: var(--primary-color);
      color: white;
      text-align: center;
      padding: 30px;
      margin-top: 50px;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      header {
        padding: 20px 10px;
      }

      h1 {
        font-size: 1.8rem;
      }

      .section {
        padding: 20px 15px;
      }
    }
  </style>
</head>

<body>

  <header>
    <div class="container">
      <h1>プロフェッショナル現場監督育成ガイド</h1>
      <p class="subtitle">建設業界におけるリーダーシップとマネジメントスキルの体系的理解</p>
    </div>
  </header>

  <div class="container">
    <div class="section">
      <h2>学習進捗状況</h2>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar">0%</div>
      </div>
      <p>このガイドを読むごとに進捗が更新されます。全てのセクションを完了させましょう。</p>
    </div>

    <div class="section">
      <h2>1. プロジェクトマネジメント能力：工程管理の体系的理解</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>総合的な工程管理の重要性</h3>
        <p>現場監督としての第一の責務は、プロジェクトを予定通りに進行させることです。これには以下の要素が含まれます：</p>
        <ul>
          <li><span class="important">リソース管理</span>：人的資源（職人・技術者）、資材、重機の最適配置</li>
          <li><span class="important">クリティカルパス分析</span>：工程遅延が全体に与える影響の予測</li>
          <li><span class="important">バッファ管理</span>：予期せぬ遅延に備えた時間的余裕の確保</li>
        </ul>

        <h3>実践的なツールと手法</h3>
        <div class="checklist">
          <div class="checklist-item">
            <input type="checkbox" id="check1-1">
            <label for="check1-1">ガントチャートを用いた視覚的な工程管理</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check1-2">
            <label for="check1-2">3日前ルール（材料・人員の事前確認）の徹底</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check1-3">
            <label for="check1-3">天候リスクを考慮した予備日の設定</label>
          </div>
        </div>

        <button class="btn" onclick="showCaseStudy('case1')">工程管理失敗事例を表示</button>
        <div id="case1"
          style="display:none; margin-top:15px; padding:15px; background-color:#f8f9fa; border-left:4px solid var(--accent-color);">
          <h4>事例：基礎工事の遅延が全体工程に与えた影響</h4>
          <p>
            某マンション建設現場で、基礎工事の天候遅延に対し適切なリカバリープランがなかったため、後続の躯体工事、内装工事に波及的影響を与え、最終的に3週間の工期延長と1,500万円の追加コストが発生した事例。この教訓から、現在では各工程に5%のバッファ期間を設けることが標準化されています。
          </p>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>2. リーダーシップ開発：建設現場における人的マネジメント</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>多様な職種間調整の技術</h3>
        <p>建設現場は多様な専門職種が協働する特殊な環境です。効果的なリーダーシップには：</p>
        <ul>
          <li><span class="important">世代間ギャップの克服</span>：ベテラン職人と若手技術者のモチベーション手法の違い</li>
          <li><span class="important">建設業界特有のコミュニケーション</span>：図面・現場・言葉の三位一体</li>
          <li><span class="important">コンフリクトマネジメント</span>：職種間の作業領域争いの調整技術</li>
        </ul>

        <h3>信頼構築の5原則</h3>
        <ol>
          <li>専門性の尊重（各職人の技術を認める）</li>
          <li>約束の厳守（時間・条件の確実な履行）</li>
          <li>透明性のある意思決定（判断理由の明確な説明）</li>
          <li>安全最優先の姿勢（作業員の健康管理を含む）</li>
          <li>結果責任の自覚（問題発生時の率先した対応）</li>
        </ol>

        <div class="tooltip">現場監督のコミュニケーションスキル診断
          <span class="tooltiptext">1. 職人からの意見要望を週1回以上聞いている<br>2. 現場の雰囲気を毎日確認している<br>3. 問題発生時、まず現場の声を聞く<br>4.
            建設的な批判を受け入れる体制がある<br>5. 職種間の調整会議を定期的に開催</span>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>3. リスクマネジメント：ゼロ災害を実現する安全文化</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>安全マネジメントシステムの構築</h3>
        <ul>
          <li><span class="important">KY（危険予知）活動</span>：朝礼時の4ラウンド法による危険予知訓練</li>
          <li><span class="important">ヒヤリハット報告制度</span>：隠蔽防止のための非処罰的文化醸成</li>
          <li><span class="important">5S（整理・整頓・清掃・清潔・躾）</span>：基本中の基本だが最も効果的</li>
        </ul>

        <h3>法的責任と保険対応</h3>
        <p>監督者としての法的責任（安全配慮義務）と、実際の事故発生時の対応フロー：</p>
        <div class="checklist">
          <div class="checklist-item">
            <input type="checkbox" id="check3-1">
            <label for="check3-1">労働安全衛生法第60条（監督者の義務）の理解</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check3-2">
            <label for="check3-2">災害報告書の作成要領（72時間ルール）</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check3-3">
            <label for="check3-3">労災保険と建設業法の関係理解</label>
          </div>
        </div>

        <button class="btn btn-outline" onclick="showSafetyVideo()">安全指導動画を表示</button>
      </div>
    </div>

    <div class="section">
      <h2>4. 業務効率化：デジタルツールを活用した現場管理</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>必須デジタルスキルセット</h3>
        <table style="width:100%; border-collapse: collapse; margin:20px 0;">
          <tr style="background-color:var(--light-color);">
            <th style="padding:10px; text-align:left; border-bottom:1px solid #ddd;">ツール分類</th>
            <th style="padding:10px; text-align:left; border-bottom:1px solid #ddd;">具体例</th>
            <th style="padding:10px; text-align:left; border-bottom:1px solid #ddd;">習熟目標</th>
          </tr>
          <tr>
            <td style="padding:10px; border-bottom:1px solid #ddd;">工程管理</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">MS Project, Primavera</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">基本操作～進捗管理</td>
          </tr>
          <tr style="background-color:#f9f9f9;">
            <td style="padding:10px; border-bottom:1px solid #ddd;">図面処理</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">AutoCAD, Revit</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">閲覧・簡易修正</td>
          </tr>
          <tr>
            <td style="padding:10px; border-bottom:1px solid #ddd;">文書作成</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">Word, Excel</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">テンプレート作成</td>
          </tr>
          <tr style="background-color:#f9f9f9;">
            <td style="padding:10px; border-bottom:1px solid #ddd;">現場管理アプリ</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">施工管理ソフト各種</td>
            <td style="padding:10px; border-bottom:1px solid #ddd;">日報入力～進捗確認</td>
          </tr>
        </table>

        <h3>効率的な書類管理システム</h3>
        <ul>
          <li><span class="important">3層バックアップ体制</span>：現場・事務所・クラウドの三重化</li>
          <li><span class="important">写真管理の標準化</span>：日付・位置情報付与の自動化</li>
          <li><span class="important">電子承認フロー</span>：関係者間の承認プロセス短縮</li>
        </ul>
      </div>
    </div>

    <div class="section">
      <h2>5. クライシスマネジメント：予期せぬ事態への対応戦略</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>建設現場で頻発するトラブルTOP5</h3>
        <ol>
          <li>設計変更（顧客要望 vs 施工可能性）</li>
          <li>資材調達遅延（サプライチェーン問題）</li>
          <li>職人不足（突発的な欠員）</li>
          <li>天候不順（予定外の作業中断）</li>
          <li>近隣クレーム（騒音・塵埃対策）</li>
        </ol>

        <h3>トラブルシューティングフレームワーク</h3>
        <p>問題発生時の体系的な対応手順：</p>
        <div style="background-color:#f5f5f5; padding:15px; border-radius:5px; margin:15px 0;">
          <p><strong>STEP1：現状把握</strong>（事実関係の迅速な収集）</p>
          <p><strong>STEP2：影響範囲の特定</strong>（工程・コスト・品質への波及効果）</p>
          <p><strong>STEP3：代替案の作成</strong>（3つの選択肢を用意）</p>
          <p><strong>STEP4：関係者調整</strong>（発注者・職人・業者間の合意形成）</p>
          <p><strong>STEP5：再発防止策</strong>（プロセス改善の文書化）</p>
        </div>

        <button class="btn" onclick="startSimulation()">トラブルシミュレーションを開始</button>
      </div>
    </div>

    <div class="section">
      <h2>6. キャリアパス開発：現場監督としての成長戦略</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>資格取得ロードマップ</h3>
        <div id="timeline"
          style="position:relative; margin:30px 0; padding-left:50px; border-left:3px solid var(--secondary-color);">
          <div style="position:relative; margin-bottom:40px;">
            <div
              style="position:absolute; left:-53px; top:0; width:40px; height:40px; background-color:var(--secondary-color); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-weight:bold;">
              1</div>
            <h4 style="margin-top:0;">入社1-3年目：基礎固め</h4>
            <p>2級施工管理技士（土木/建築）<br>建設業法に基づく主任技術者資格</p>
          </div>
          <div style="position:relative; margin-bottom:40px;">
            <div
              style="position:absolute; left:-53px; top:0; width:40px; height:40px; background-color:var(--secondary-color); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-weight:bold;">
              2</div>
            <h4 style="margin-top:0;">4-6年目：専門性深化</h4>
            <p>1級施工管理技士<br>建築積算士・コンクリート技士など専門資格</p>
          </div>
          <div style="position:relative;">
            <div
              style="position:absolute; left:-53px; top:0; width:40px; height:40px; background-color:var(--secondary-color); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-weight:bold;">
              3</div>
            <h4 style="margin-top:0;">7年目以降：マネジメント強化</h4>
            <p>PMP（プロジェクトマネジメントプロフェッショナル）<br>建設業経理士・マネジメントISO審査員補</p>
          </div>
        </div>

        <h3>スキルマトリクスによる自己評価</h3>
        <p>以下の分野で現在のスキルレベルを評価してください（1-5段階）：</p>
        <div id="skillAssessment" style="margin:20px 0;">
          <!-- JavaScriptで動的に生成 -->
        </div>
        <button class="btn" onclick="calculateSkillScore()">スキル評価を分析</button>
        <div id="skillResult" style="margin-top:15px; padding:15px; display:none;"></div>
      </div>
    </div>

    <div class="section">
      <h2>7. プロフェッショナリズム：真の現場リーダーとしての在り方</h2>
      <button class="accordion">詳細を表示</button>
      <div class="panel">
        <h3>優れた現場監督の10の特性</h3>
        <div style="column-count:2; column-gap:30px; margin:20px 0;">
          <ol>
            <li>透明性のある意思決定</li>
            <li>一貫した倫理観</li>
            <li>技術的専門性</li>
            <li>継続的な学習姿勢</li>
            <li>ストレスマネジメント能力</li>
          </ol>
          <ol start="6">
            <li>多様な価値観の受容</li>
            <li>ビジョン共有能力</li>
            <li>財務的責任感</li>
            <li>安全文化の推進</li>
            <li>地域社会との共生</li>
          </ol>
        </div>

        <h3>現場監督のエシックス（倫理綱領）</h3>
        <div style="background-color:var(--light-color); padding:20px; border-radius:5px; margin:15px 0;">
          <p>"我々現場監督は、職人の命と健康を守り、発注者の信頼に応え、社会資本の質を保証する責務を負う。いかなる状況においても安全と品質を最優先し、短期的利益に惑わされることなく、建設業の社会的信用を高める行動をとる。"
          </p>
        </div>

        <div class="checklist">
          <div class="checklist-item">
            <input type="checkbox" id="check7-1">
            <label for="check7-1">毎朝、現場の安全確認を最優先で行う</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check7-2">
            <label for="check7-2">職人とのコミュニケーションを1日1回以上行う</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="check7-3">
            <label for="check7-3">週に1回、自己研鑽の時間を確保する</label>
          </div>
        </div>
      </div>
    </div>

    <div class="section" style="text-align:center; background-color:var(--primary-color); color:white;">
      <h2 style="color:white;">現場監督としての成長を始めましょう</h2>
      <p>このガイドを参考に、明日の現場から実践できることを1つ選んで取り組んでください</p>
      <button class="btn" style="background-color:var(--accent-color);" onclick="printActionPlan()">アクションプランを作成</button>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>© 2023 建設業界人材開発協会 | プロフェッショナル現場監督育成プログラム</p>
      <p>本コンテンツは建設業界の標準的な実務に基づいて作成されており、特定の企業や団体を代表するものではありません</p>
    </div>
  </footer>

  <script>
    // アコーディオン機能
    const accordions = document.getElementsByClassName("accordion");
    for (let i = 0; i < accordions.length; i++) {
      accordions[i].addEventListener("click", function () {
        this.classList.toggle("active");
        const panel = this.nextElementSibling;
        if (panel.style.maxHeight) {
          panel.style.maxHeight = null;
          updateProgress();
        } else {
          panel.style.maxHeight = panel.scrollHeight + "px";
          updateProgress();
        }
      });
    }

    // 進捗状況の更新
    function updateProgress() {
      const panels = document.getElementsByClassName("panel");
      let openedCount = 0;
      for (let i = 0; i < panels.length; i++) {
        if (panels[i].style.maxHeight) {
          openedCount++;
        }
      }
      const progress = Math.round((openedCount / panels.length) * 100);
      const progressBar = document.getElementById("progressBar");
      progressBar.style.width = progress + "%";
      progressBar.textContent = progress + "%";

      // 進捗に応じて色を変更
      if (progress < 30) {
        progressBar.style.backgroundColor = "#e74c3c";
      } else if (progress < 70) {
        progressBar.style.backgroundColor = "#f39c12";
      } else {
        progressBar.style.backgroundColor = "#27ae60";
      }
    }

    // チェックリストのインタラクション
    const checkboxes = document.querySelectorAll('.checklist-item input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', function () {
        const label = this.nextElementSibling;
        if (this.checked) {
          label.parentElement.classList.add('completed');
        } else {
          label.parentElement.classList.remove('completed');
        }
      });
    });

    // ケーススタディ表示
    function showCaseStudy(id) {
      const caseStudy = document.getElementById(id);
      if (caseStudy.style.display === "none") {
        caseStudy.style.display = "block";
      } else {
        caseStudy.style.display = "none";
      }
    }

    // スキルアセスメントの生成
    const skills = [
      "工程管理", "安全管理", "コスト管理",
      "職人調整", "書類作成", "CAD操作",
      "トラブル対応", "品質管理", "法令知識"
    ];

    const skillAssessment = document.getElementById("skillAssessment");
    skills.forEach((skill, index) => {
      const div = document.createElement("div");
      div.style.marginBottom = "10px";

      const label = document.createElement("label");
      label.textContent = skill + ": ";
      label.style.display = "inline-block";
      label.style.width = "120px";

      const select = document.createElement("select");
      select.id = "skill" + index;
      select.style.padding = "5px";
      select.style.borderRadius = "3px";

      for (let i = 1; i <= 5; i++) {
        const option = document.createElement("option");
        option.value = i;
        option.textContent = i + " (レベル" + i + ")";
        select.appendChild(option);
      }

      div.appendChild(label);
      div.appendChild(select);
      skillAssessment.appendChild(div);
    });

    // スキル評価の分析
    function calculateSkillScore() {
      let total = 0;
      skills.forEach((skill, index) => {
        const select = document.getElementById("skill" + index);
        total += parseInt(select.value);
      });

      const average = (total / skills.length).toFixed(1);
      let message = "";

      if (average < 2.5) {
        message = "現在のスキルレベルは初級者レベルです。基礎スキルの強化が必要です。";
      } else if (average < 3.5) {
        message = "現在のスキルレベルは中級者レベルです。特定分野の専門性を深めましょう。";
      } else {
        message = "現在のスキルレベルは上級者レベルです。マネジメントスキルをさらに磨きましょう。";
      }

      const resultDiv = document.getElementById("skillResult");
      resultDiv.innerHTML = `
        <h4>あなたのスキル評価結果</h4>
        <p>平均スキルレベル: <strong>${average}/5.0</strong></p>
        <p>${message}</p>
        <p>最も強化が必要な分野: <strong>${identifyWeakestSkill()}</strong></p>
      `;
      resultDiv.style.display = "block";
      resultDiv.style.backgroundColor = "#f8f9fa";
      resultDiv.style.borderLeft = "4px solid var(--secondary-color)";
    }

    function identifyWeakestSkill() {
      let minValue = 5;
      let weakestSkill = "";

      skills.forEach((skill, index) => {
        const select = document.getElementById("skill" + index);
        const value = parseInt(select.value);
        if (value < minValue) {
          minValue = value;
          weakestSkill = skill;
        }
      });

      return weakestSkill;
    }

    // シミュレーション開始
    function startSimulation() {
      alert("トラブルシミュレーションを開始します。\n\n仮想シナリオ: 主要資材の納品が2週間遅れることが判明。\n\n1. 影響を受ける工程を特定\n2. 代替案を検討\n3. 関係者への報告方法を計画");
    }

    // 安全動画表示
    function showSafetyVideo() {
      alert("安全指導動画を表示します。\n\n（実際のシステムでは建設業労働災害防止協会の動画コンテンツにリンク）");
    }

    // アクションプラン作成
    function printActionPlan() {
      const actionItems = [];
      const checkboxes = document.querySelectorAll('.checklist-item input[type="checkbox"]:checked');

      checkboxes.forEach(checkbox => {
        actionItems.push(checkbox.nextElementSibling.textContent);
      });

      if (actionItems.length === 0) {
        alert("まずはチェックリストから実践したい項目を選択してください");
        return;
      }

      const planWindow = window.open("", "アクションプラン", "width=600,height=600");
      planWindow.document.write(`
        <html>
        <head>
          <title>マイアクションプラン</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #2c3e50; }
            ul { line-height: 1.8; }
            .date { margin-bottom: 20px; }
          </style>
        </head>
        <body>
          <h1>現場監督としてのアクションプラン</h1>
          <div class="date">作成日: ${new Date().toLocaleDateString()}</div>
          <h3>実践する項目</h3>
          <ul>
            ${actionItems.map(item => `<li>${item}</li>`).join('')}
          </ul>
          <h3>進捗記録</h3>
          <p>______________________________________________________</p>
          <p>______________________________________________________</p>
          <p>______________________________________________________</p>
          <h3>振り返り</h3>
          <p>______________________________________________________</p>
          <p>______________________________________________________</p>
          <p>______________________________________________________</p>
        </body>
        </html>
      `);
      planWindow.document.close();
      planWindow.focus();
    }

    // 初期化
    window.onload = function () {
      // 最初のアコーディオンを開く
      if (accordions.length > 0) {
        accordions[0].click();
      }

      // チェックボックスにイベントリスナーを再設定
      document.querySelectorAll('.checklist-item input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function () {
          const label = this.nextElementSibling;
          if (this.checked) {
            label.parentElement.classList.add('completed');
          } else {
            label.parentElement.classList.remove('completed');
          }
        });
      });
    };


  </script>
  <script>
    // アコーディオン動作
    document.addEventListener("DOMContentLoaded", function () {
    const accordions = document.querySelectorAll(".accordion");
    accordions.forEach((accordion) => {
      accordion.addEventListener("click", function () {
        this.classList.toggle("active");
        const panel = this.nextElementSibling;
        if (panel.style.maxHeight) {
          panel.style.maxHeight = null;
        } else {
          panel.style.maxHeight = panel.scrollHeight + "px";
        }
      });
    });
  });
  </script>

</body>

</html>